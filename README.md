# ichigo
## Minimalist HTML5 Web Framework for TypeScript

Ichigo intends to provide some common features for building web pages, such as observables, two-way binding, and single-page application routing, in a small package (under 60K minified). But really I wrote it for fun so it's primary purpose was to keep me entertained.

### About Ichigo

Ichigo attempts to be _minimalist_ and yet _reasonably full-featured_. It _does not_ attempt to support old browsers ... to be specific, the only reason it succeeds in packing a lot of features into such a small package is because the 2015 ECMAScript standard changed Javascript from a nightmare into a language a person can actually use without needing to execute seppuku.exe.

That said, this is still pretty old code. Everything it uses was in browsers several years back, from the Before Times, the blood-soaked apocalyptic century called 2020. Will it work in IE? Certainly not, so if you want to run something on IE ... package it with some malware, it's probably on their PC already.

Currently some NPM libraries are needed to build it, Typescript being the main one, but none are needed to run. It's completely self-contained.

It's definitely experimental. It's never been in production, and as it's unlikely that I'll ever make a real site outside of work, it may never go into production. It's just something I wrote for a lark.

### Unit tests

I tried to get jest and ts-jest working on this machine so I could run unit tests. I couldn't even get them to install. So to make unit tests, I wrote a simple test page. You can find it in the tests and tests_out directories. It's very simple, very primitive, but it was frankly easier to do than the full system rebuild that would be required to get NPM to function.

The TypeScript version is currently still at 2.7, because read the previous paragraph.

### Installation

_Option 1: Mini-Ichigo_

Scripts are found in the dist directory. Load those of the following scripts on the page that you need to use:

* General utilities: General helpers for HTML, arrays, etc (15.3K).  
`<script src="mi5-util.min.js"></script>`
* Keyword Arguments: Only the two utilities needed to make python-style keyword arguments work (2.2K).  
`<script src="mi5-keyword.min.js"></script>`
* Deferred/Repeatable Promise: Deferred and repeatable promises (2.5K).  
`<script src="mi5-promise.min.js"></script>`
* Observables: The event handler, observable property, and observable proxy (18.0K).  
`<script src="mi5-observable.min.js"></script>`
* Components: The attribute-based two-way bound components (41.3K).  
`<script src="mi5-component.min.js"></script>`
* Router: The SPA page router (12.2K).  
`<script src="mi5-router.min.js"></script>`
* Prototype Extensions: This patches HTML element, fragment, and other prototypes to add extension methods (42.6K).  
`<script src="mi5-extension.min.js"></script>`

_Option 2: Full Minimized Ichigo Set_

Import the full ichigo script from the dist directory (59.6K).  
`<script src="ichigo-full.min.js"></script>`

_Option 3: TypeScript Modules_

Copy the src directory into a directory in your TypeScript project. Import modules from Api.ts. Import ExtensionLoader.ts if you'd like to patch prototypes with extension methods.

_Option 4: JavaScript Modules_

Build the project using whatever module version you'd like (see tsconfig.json) and import from Api.js. Import ExtensionLoader.js if you'd like to patch prototypes with extension methods.

### Type definitions

Typescript types for mini-ichigo cannot be generated by tsc (tsc.exe generates a file saying only "export {}"), so you can look at the *.types.js files, which are manually-built lists of properties on the mi5 object.

Definitions of all the other objects can be found in the typescript type definitions in dist/types.d.ts.zip.

If you unzip types.d.ts in the dist folder, or anywhere at or below tsconfig.json, the project will not build, so unzip it somewhere else if plan to do your own build. The "exclude" property of tsconfig.json is not respected. This is a pretty old Typecript bug.

### Examples of use

See the demo page (TODO: probably will use github pages ... the setup looks a bit weird) for examples and quickstart.
